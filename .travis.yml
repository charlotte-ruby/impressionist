language: ruby
before_script:
  - gem update --system
  - gem install bundler
  - cd tests/test_app
  - bundle
  - bundle exec rails g impressionist -f
  - RAILS_ENV=test bundle exec rake db:create db:schema:load
  - RAILS_ENV=test bundle exec rake assets:precompile
  - cd ..
script:
  - bundle exec rspec spec
rvm:
  - 2.7.0
  # - jruby-head
  # - rbx
  # - ruby-head
jobs:
  # allow_failures:
  #   - rvm: jruby-head
  #   - rvm: rbx
  #   - rvm: ruby-head
  fast_finish: true
notifications:
  email:
    # - acnalesso@yahoo.co.uk
    # - john@couponshack.com
    - mmcmahand@gmail.com
